# =============================================================================
# Eclaire Configuration (Development)
# =============================================================================
# Quick Start:
#   pnpm dev              # Just works! Secrets auto-generated if missing
#   pnpm setup:dev        # For persistent sessions across restarts
#
# Secrets are auto-generated and saved to .env.local (gitignored).
# =============================================================================

# -----------------------------------------------------------------------------
# Security Secrets (auto-generated in development if empty)
# -----------------------------------------------------------------------------
# For persistent sessions, run: pnpm setup:dev
# Or generate manually: openssl rand -hex 32
BETTER_AUTH_SECRET=
MASTER_ENCRYPTION_KEY=
API_KEY_HMAC_KEY_V1=

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Default: sqlite (simplest, no external database needed)
# Options: sqlite | pglite | postgresql
#DATABASE_TYPE=sqlite

# SQLite/PGlite data directories (optional, defaults work for most setups)
#SQLITE_DATA_DIR=./data/sqlite
#PGLITE_DATA_DIR=./data/pglite

# PostgreSQL settings (only needed if DATABASE_TYPE=postgresql)
# Start with: docker compose up postgres -d
#DATABASE_HOST=127.0.0.1
#DATABASE_PORT=5432
#DATABASE_USER=eclaire
#DATABASE_PASSWORD=eclaire
#DATABASE_NAME=eclaire

# Or provide a full connection string (overrides individual settings above)
#DATABASE_URL=postgresql://eclaire:eclaire@127.0.0.1:5432/eclaire

# -----------------------------------------------------------------------------
# Queue Configuration
# -----------------------------------------------------------------------------
# Default: sqlite (in-process queue, simplest setup)
# Options: sqlite | postgres | redis
#
# Note: sqlite queue requires SERVICE_ROLE=all (single process mode)
# For distributed workers, use postgres or redis queue
#QUEUE_BACKEND=sqlite

# Redis settings (advanced, not included in default compose)
#REDIS_URL=redis://127.0.0.1:6379
#REDIS_KEY_PREFIX=eclaire

# -----------------------------------------------------------------------------
# Service Mode
# -----------------------------------------------------------------------------
# Default: all (unified mode - API + workers in single process)
# Options: all | api | worker
#
# - all: Run everything in one process (recommended for simple deployments)
# - api: Run only the HTTP API (workers run separately)
# - worker: Run only queue workers (API runs separately)
#SERVICE_ROLE=all

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
# Port the backend listens on (default: 3001 for local dev, 3000 for container)
#PORT=3001

# -----------------------------------------------------------------------------
# URLs
# -----------------------------------------------------------------------------
# Your public-facing URL (for OAuth callbacks, email links, etc.)
#FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# AI Configuration
# -----------------------------------------------------------------------------
# AI providers and models are configured in config/ai/*.json
# Run: pnpm setup:dev to create config files from examples
# Then edit config/ai/providers.json to configure your providers.

# AI Provider API Keys (referenced by config/ai/providers.json via ${ENV:VAR})
#OPENAI_API_KEY=sk-...
#ANTHROPIC_API_KEY=sk-ant-...
#OPENROUTER_API_KEY=sk-or-...

# -----------------------------------------------------------------------------
# External Services
# -----------------------------------------------------------------------------
# Docling document processing server
# Start with: docker compose up docling -d
# Or run locally: docling-serve --port 5001
#DOCLING_SERVER_URL=http://127.0.0.1:5001

# GitHub token (for higher rate limits on GitHub bookmark processing)
#GITHUB_TOKEN=

# Reddit API (for Reddit bookmark processing)
#REDDIT_CLIENT_ID=
#REDDIT_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# OPTIONAL: Performance Tuning
# -----------------------------------------------------------------------------
#LOG_LEVEL=debug
#WORKER_CONCURRENCY=3
#AI_TIMEOUT=180000
